:PROPERTIES:
:ID: B1A2C3D4-E5F6-7890-ABCD-EF1234567890
:END:
#+title: ores.comms Protocol Reference
#+author: Auto-generated by generate_protocol_docs.py
#+options: <:nil c:nil todo:nil ^:nil d:nil date:nil author:nil toc:t html-postamble:nil
#+startup: overview

Protocol messages for the Core subsystem 
(0x0000-0x0FFF).

See [[id:A7B3C9D2-E5F1-4A8B-9C6D-3E2F1A0B8C7D][Protocol Reference]] for the complete protocol documentation.

* Messages Overview

| ID | Name | Description |
|----+------+-------------|
| 0x0001 | handshake_request | Handshake request message sent by client to initia... |
| 0x0002 | handshake_response | Handshake response message sent by server to clien... |
| 0x0003 | handshake_ack | Handshake acknowledgment message sent by client to... |
| 0x0004 | error_response | Error response message sent when request processin... |
| 0x0005 | ping | Ping message sent by client to check connection li... |
| 0x0006 | pong | Pong message sent by server in response to ping.  ... |
| 0x0010 | subscribe_request | Request to subscribe to entity change notification... |
| 0x0011 | subscribe_response | Response confirming subscription request. |
| 0x0012 | unsubscribe_request | Request to unsubscribe from entity change notifica... |
| 0x0013 | unsubscribe_response | Response confirming unsubscription request. |
| 0x0014 | notification |  |

* Message Details

** handshake_request (0x0001)

Handshake request message sent by client to initiate connection.

*** Fields

| Field | Type | Description |
|-------+------+-------------|
| client_version_major | ~std::uint16_t~ |  |
| client_version_minor | ~std::uint16_t~ |  |
| client_identifier | ~std::string~ |  |

** handshake_response (0x0002)

Handshake response message sent by server to client.

*** Fields

| Field | Type | Description |
|-------+------+-------------|
| server_version_major | ~std::uint16_t~ |  |
| server_version_minor | ~std::uint16_t~ |  |
| version_compatible | ~bool~ |  |
| server_identifier | ~std::string~ |  |
| status | ~error_code~ |  |

** handshake_ack (0x0003)

Handshake acknowledgment message sent by client to complete handshake.

*** Fields

| Field | Type | Description |
|-------+------+-------------|
| status | ~error_code~ |  |

** error_response (0x0004)

Error response message sent when request processing fails.

*** Fields

| Field | Type | Description |
|-------+------+-------------|
| code | ~error_code~ |  |
| message | ~std::string~ |  |

** ping (0x0005)

Ping message sent by client to check connection liveness.  Lightweight keepalive message with no payload.

** pong (0x0006)

Pong message sent by server in response to ping.  Lightweight response message confirming connection is alive.

** subscribe_request (0x0010)

Request to subscribe to entity change notifications.  The client sends this to register interest in receiving notifications when a particular entity type changes.

*** Fields

| Field | Type | Description |
|-------+------+-------------|
| event_type | ~std::string~ |  |

*** Wire Format

- 2 bytes: event_type length
- N bytes: event_type (UTF-8)

** subscribe_response (0x0011)

Response confirming subscription request.

*** Fields

| Field | Type | Description |
|-------+------+-------------|
| success | ~bool~ |  |
| message | ~std::string~ |  |

*** Wire Format

- 1 byte: success (0 or 1)
- 2 bytes: message length
- N bytes: message (UTF-8)

** unsubscribe_request (0x0012)

Request to unsubscribe from entity change notifications.

*** Fields

| Field | Type | Description |
|-------+------+-------------|
| event_type | ~std::string~ |  |

*** Wire Format

- 2 bytes: event_type length
- N bytes: event_type (UTF-8)

** unsubscribe_response (0x0013)

Response confirming unsubscription request.

*** Fields

| Field | Type | Description |
|-------+------+-------------|
| success | ~bool~ |  |
| message | ~std::string~ |  |

*** Wire Format

- 1 byte: success (0 or 1)
- 2 bytes: message length
- N bytes: message (UTF-8)

** notification (0x0014)

(No struct definition found)
