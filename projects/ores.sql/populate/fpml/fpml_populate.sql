/* -*- sql-product: postgres; tab-width: 4; indent-tabs-mode: nil -*-
 *
 * FPML Reference Data Master Include File
 *
 * Auto-generated by generate_fpml_refdata.sh
 * Includes all FPML SQL files in the correct dependency order.
 */

-- =============================================================================
-- FpML Standards Catalog (must come first)
-- =============================================================================

\echo '--- FpML Standards Catalog ---'
\ir fpml_catalog_populate.sql

-- =============================================================================
-- FPML Methodology
-- =============================================================================

\echo '--- FPML Methodology ---'
\ir fpml_methodology_populate.sql

-- =============================================================================
-- FPML Coding Schemes Dataset (must come first - other datasets reference these schemes)
-- =============================================================================

\echo '--- FPML Coding Schemes Dataset ---'
\ir fpml_coding_schemes_dataset_populate.sql

-- =============================================================================
-- FPML Coding Schemes Artefacts
-- =============================================================================

\echo '--- FPML Coding Schemes Artefacts ---'
\ir fpml_coding_schemes_artefact_populate.sql

-- Publish coding schemes to production (required before other datasets can reference them)
\echo '--- Publishing FPML Coding Schemes ---'
select * from ores_dq_coding_schemes_publish_fn(
    (select id from ores_dq_datasets_tbl where code = 'fpml.coding_schemes' and valid_to = ores_utility_infinity_timestamp_fn()),
    ores_iam_system_tenant_id_fn(),
    'upsert'
);

-- =============================================================================
-- FPML Datasets (depend on coding schemes being published)
-- =============================================================================

\echo '--- FPML Datasets ---'
\ir fpml_account_type_dataset_populate.sql
\ir fpml_asset_class_dataset_populate.sql
\ir fpml_asset_measure_dataset_populate.sql
\ir fpml_benchmark_rate_dataset_populate.sql
\ir fpml_business_center_dataset_populate.sql
\ir fpml_business_process_dataset_populate.sql
\ir fpml_cashflow_type_dataset_populate.sql
\ir fpml_cftc_entity_classification_dataset_populate.sql
\ir fpml_cftc_organization_type_dataset_populate.sql
\ir fpml_entity_type_dataset_populate.sql
\ir fpml_hkma_rewrite_party_relationship_type_dataset_populate.sql
\ir fpml_hkma_rewrite_regulatory_corporate_sector_dataset_populate.sql
\ir fpml_local_jurisdiction_dataset_populate.sql
\ir fpml_non_iso_currency_dataset_populate.sql
\ir fpml_party_relationship_type_dataset_populate.sql
\ir fpml_party_role_dataset_populate.sql
\ir fpml_party_role_type_dataset_populate.sql
\ir fpml_person_role_dataset_populate.sql
\ir fpml_regulatory_corporate_sector_dataset_populate.sql
\ir fpml_reporting_regime_dataset_populate.sql
\ir fpml_supervisory_body_dataset_populate.sql

-- =============================================================================
-- FPML Dataset Dependencies
-- =============================================================================

\echo '--- FPML Dataset Dependencies ---'
\ir fpml_dataset_dependency_populate.sql

-- =============================================================================
-- FPML Artefacts
-- =============================================================================

\echo '--- FPML Artefacts ---'
\ir fpml_account_type_artefact_populate.sql
\ir fpml_asset_class_artefact_populate.sql
\ir fpml_asset_measure_artefact_populate.sql
\ir fpml_benchmark_rate_artefact_populate.sql
\ir fpml_business_center_artefact_populate.sql
\ir fpml_business_process_artefact_populate.sql
\ir fpml_cashflow_type_artefact_populate.sql
\ir fpml_cftc_entity_classification_artefact_populate.sql
\ir fpml_cftc_organization_type_artefact_populate.sql
\ir fpml_entity_type_artefact_populate.sql
\ir fpml_hkma_rewrite_party_relationship_type_artefact_populate.sql
\ir fpml_hkma_rewrite_regulatory_corporate_sector_artefact_populate.sql
\ir fpml_local_jurisdiction_artefact_populate.sql
\ir fpml_non_iso_currency_artefact_populate.sql
\ir fpml_party_relationship_type_artefact_populate.sql
\ir fpml_party_role_artefact_populate.sql
\ir fpml_party_role_type_artefact_populate.sql
\ir fpml_person_role_artefact_populate.sql
\ir fpml_regulatory_corporate_sector_artefact_populate.sql
\ir fpml_reporting_regime_artefact_populate.sql
\ir fpml_supervisory_body_artefact_populate.sql
