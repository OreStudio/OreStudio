{
  "domain_entity": {
    "schema": "public",
    "component": "trade",
    "entity_singular": "trade_party_role",
    "entity_plural": "trade_party_roles",
    "entity_title": "Trade Party Role",
    "has_tenant_id": true,
    "generator_facet_name": "generator",
    "brief": "Counterparty role assignment on a trade.",
    "description": "Associates a counterparty with a specific role on a trade.\nThe internal party (the house) is derived from book_id via books.party_id.\nSupports multiple counterparties per trade in different roles.",

    "primary_key": {
      "column": "id",
      "type": "uuid",
      "cpp_type": "boost::uuids::uuid",
      "description": "UUID uniquely identifying this party role assignment.",
      "detail": "Surrogate key for the trade party role record."
    },

    "columns": [
      {
        "name": "trade_id",
        "type": "uuid",
        "cpp_type": "boost::uuids::uuid",
        "nullable": false,
        "description": "Trade this role assignment belongs to.",
        "detail": "Soft FK to ores_trade_trades_tbl.",
        "generator_expr": "ctx.generate_uuid()"
      },
      {
        "name": "counterparty_id",
        "type": "uuid",
        "cpp_type": "boost::uuids::uuid",
        "nullable": false,
        "description": "Counterparty fulfilling the role.",
        "detail": "Soft FK to ores_refdata_counterparties_tbl.",
        "generator_expr": "ctx.generate_uuid()"
      },
      {
        "name": "role",
        "type": "text",
        "cpp_type": "std::string",
        "nullable": false,
        "description": "Role the counterparty plays on this trade.",
        "detail": "Soft FK to ores_trade_party_role_types_tbl.",
        "generator_expr": "std::string(\"Counterparty\")"
      }
    ],

    "sql": {
      "tablename": "ores_trade_party_roles_tbl"
    },

    "repository": {
      "entity_singular_short": "role",
      "entity_plural_short": "roles",
      "entity_singular_words": "trade party role",
      "entity_plural_words": "trade party roles"
    },

    "cpp": {
      "includes": {
        "domain": ["<chrono>", "<string>", "<boost/uuid/uuid.hpp>"]
      },
      "iterator_var": "pr"
    }
  }
}
