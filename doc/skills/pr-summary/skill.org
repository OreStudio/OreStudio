:PROPERTIES:
:ID: 545D6B43-17FC-0234-FF2B-AB6565695616
:END:
#+title: PR Summary Skill
#+author: Marco Craveiro
#+options: <:nil c:nil todo:nil ^:nil d:nil date:nil author:nil toc:nil
#+startup: inlineimages
#+export_exclude_tags: noexport

#+begin_export markdown
---
name: pr-summary-generator
description: Generate a pull request title and overview using only committed work on the current branch.
license: Complete terms in LICENSE.txt
---
#+end_export

This skill inspects the Git commit history of the current branch, from the
branching point up to the latest commit *without pushing changes* and *ignoring
uncommitted files*. It then generates a clean, descriptive Pull Request (PR)
title and overview.

* When to Use This Skill

Use this skill whenever you want to generate a clear and concise Pull Request
summary based solely on committed work in the current branch. Note that only
committed changes must be considered.

* How to Use This Skill

1. Ensure that your local branch contains the commits you wish to summarise.
2. Run the skill from within the repository root.
3. Provide the base branch if different from the default (=main=).
4. The skill will automatically:
   - Determine the branch point,
   - Extract the relevant commit messages,
   - Produce a clean PR title and overview.


* Detailed Instructions

Perform the following steps:

1. Identify the branching point from the base branch using:

#+BEGIN_SRC sh
git merge-base HEAD main
#+END_SRC

2. Collect only the committed work:

#+BEGIN_SRC shell
git log --pretty=format:"%s" <merge-base>..HEAD
#+END_SRC

3. Process the commit messages to infer topic, scope, and intent.

4. Generate:

   - A short PR title.
   - A structured, multiâ€‘paragraph overview.

* Example Workflow
#+BEGIN_SRC sh

# Identify branch point
merge_base=$(git merge-base HEAD main)

# Collect commit messages
git log --pretty=format:"%s" ${merge_base}..HEAD

# The skill then processes the output to synthesise a PR title and overview.
#+END_SRC

* Artefacts                                                        :noexport:

** Licence

#+BEGIN_SRC fundamental :tangle LICENCE.txt
This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
MA 02110-1301, USA.
#+END_SRC
